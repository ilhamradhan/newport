{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\Akbar\\\\Code\\\\newport\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\Akbar\\\\Code\\\\newport\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\Akbar\\\\Code\\\\newport\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"E:\\\\Akbar\\\\Code\\\\newport\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  fragment repoProperties on Repository {\\n    name \\n    description\\n    url\\n    id\\n    diskUsage\\n    languages(first: 2, orderBy: { field: SIZE, direction: DESC }) {\\n      nodes {\\n        name\\n        color\\n      }\\n    }\\n  }\\n\\n  {\\n    user(login: \\\"\",\"\\\") {\\n      \",\"\\n    }\\n  }\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect}from'react';import'./Projects.css';import{Fade}from'react-reveal';import ApolloClient,{gql}from'apollo-boost';import Button from'@material-ui/core/Button';import{makeStyles}from'@material-ui/core/styles';import{featured_projects}from'../../data/featured_projects.json';import Project from'../project/Project';import Section from'../section/Section';import FeaturedProject from'../featuredProject/FeaturedProject';var useStyles=makeStyles(function(theme){return{moreProjects:{'&':{margin:'20px auto',backgroundColor:'#39b175',boxShadow:'none','&:hover':{backgroundColor:'#0be779',boxShadow:'none'}},'& > *':{color:'white',padding:4,fontSize:'15px',fontWeight:'600'}}};});var client=new ApolloClient({uri:'https://api.github.com/graphql',request:function request(operation){console.log(\"Token is \".concat(process.env.REACT_APP_GITHUB_PERSONAL_ACCESS_TOKEN));operation.setContext({headers:{authorization:\"Bearer \".concat(process.env.REACT_APP_GITHUB_PERSONAL_ACCESS_TOKEN)}});}});var queryInfo={owner:'jigalin',repositories:['portfolio-landing-page','react-pokedex','JS-DOM-for-beginners']};var query=gql(_templateObject(),queryInfo.owner,queryInfo.repositories.map(function(repo,index){return\"repo\".concat(index+1,\": repository(name: \\\"\").concat(repo,\"\\\") {\\n        ...repoProperties\\n      }\");}).join('\\n'));var Projects=function Projects(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),githubProjects=_useState2[0],setGithubProjects=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),loadProjectsError=_useState4[0],setLoadProjectsError=_useState4[1];var classes=useStyles();useEffect(function(){getProjects();},[]);var getProjects=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var queryResult;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return client.query({query:query});case 3:queryResult=_context.sent;setGithubProjects(queryResult.data.user);setLoadProjectsError(false);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);setLoadProjectsError(true);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getProjects(){return _ref.apply(this,arguments);};}();if(loadProjectsError===false){return/*#__PURE__*/React.createElement(Section,{title:\"Projects\"},/*#__PURE__*/React.createElement(\"div\",{className:\"projects-content\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"projects-list\"},featured_projects.map(function(featuredProject){return/*#__PURE__*/React.createElement(\"li\",{key:\"featured-project-\".concat(featuredProject.id)},/*#__PURE__*/React.createElement(Fade,{bottom:true,duration:1000,distance:\"20px\"},/*#__PURE__*/React.createElement(FeaturedProject,{name:featuredProject.name,link:featuredProject.link,description:featuredProject.description,colour:featuredProject.colour,languages:featuredProject.languages})));}),Object.keys(githubProjects).map(function(repo){if(githubProjects[repo].name){return/*#__PURE__*/React.createElement(\"li\",{key:githubProjects[repo].name},/*#__PURE__*/React.createElement(Fade,{bottom:true,duration:1000,distance:\"20px\"},/*#__PURE__*/React.createElement(Project,{project:githubProjects[repo],type:'github'})));}else{return null;}})),/*#__PURE__*/React.createElement(Fade,{bottom:true,duration:1000,distance:\"20px\"},/*#__PURE__*/React.createElement(\"div\",{className:\"more-projects-wrapper\"},/*#__PURE__*/React.createElement(\"a\",{className:\"project-link\",href:'https://github.com/jigalin',target:\"_blank\",rel:\"noopener noreferrer\"},/*#__PURE__*/React.createElement(Button,{className:classes.moreProjects,type:\"button\",variant:\"contained\"},\"more projects\"))))));}else{return null;}};export default Projects;","map":{"version":3,"sources":["E:/Akbar/Code/newport/src/components/projects/Projects.js"],"names":["React","useState","useEffect","Fade","ApolloClient","gql","Button","makeStyles","featured_projects","Project","Section","FeaturedProject","useStyles","theme","moreProjects","margin","backgroundColor","boxShadow","color","padding","fontSize","fontWeight","client","uri","request","operation","console","log","process","env","REACT_APP_GITHUB_PERSONAL_ACCESS_TOKEN","setContext","headers","authorization","queryInfo","owner","repositories","query","map","repo","index","join","Projects","githubProjects","setGithubProjects","loadProjectsError","setLoadProjectsError","classes","getProjects","queryResult","data","user","featuredProject","id","name","link","description","colour","languages","Object","keys"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport './Projects.css'\r\nimport { Fade } from 'react-reveal'\r\nimport ApolloClient, { gql } from 'apollo-boost'\r\nimport Button from '@material-ui/core/Button'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { featured_projects } from '../../data/featured_projects.json'\r\nimport Project from '../project/Project'\r\nimport Section from '../section/Section'\r\nimport FeaturedProject from '../featuredProject/FeaturedProject'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  moreProjects: {\r\n    '&': {\r\n      margin: '20px auto',\r\n      backgroundColor: '#39b175',\r\n      boxShadow: 'none',\r\n      '&:hover': {\r\n        backgroundColor: '#0be779',\r\n        boxShadow: 'none',\r\n      },\r\n    },\r\n    '& > *': {\r\n      color: 'white',\r\n      padding: 4,\r\n      fontSize: '15px',\r\n      fontWeight: '600',\r\n    },\r\n  },\r\n}))\r\n\r\nconst client = new ApolloClient({\r\n  uri: 'https://api.github.com/graphql',\r\n  request: (operation) => {\r\n    console.log(\r\n      `Token is ${process.env.REACT_APP_GITHUB_PERSONAL_ACCESS_TOKEN}`\r\n    )\r\n    operation.setContext({\r\n      headers: {\r\n        authorization: `Bearer ${process.env.REACT_APP_GITHUB_PERSONAL_ACCESS_TOKEN}`,\r\n      },\r\n    })\r\n  },\r\n})\r\n\r\nconst queryInfo = {\r\n  owner: 'jigalin',\r\n  repositories: [\r\n    'portfolio-landing-page',\r\n    'react-pokedex',\r\n    'JS-DOM-for-beginners',\r\n  ],\r\n}\r\n\r\nconst query = gql`\r\n  fragment repoProperties on Repository {\r\n    name \r\n    description\r\n    url\r\n    id\r\n    diskUsage\r\n    languages(first: 2, orderBy: { field: SIZE, direction: DESC }) {\r\n      nodes {\r\n        name\r\n        color\r\n      }\r\n    }\r\n  }\r\n\r\n  {\r\n    user(login: \"${queryInfo.owner}\") {\r\n      ${queryInfo.repositories\r\n        .map(\r\n          (repo, index) => `repo${index + 1}: repository(name: \"${repo}\") {\r\n        ...repoProperties\r\n      }`\r\n        )\r\n        .join('\\n')}\r\n    }\r\n  }`\r\n\r\nconst Projects = () => {\r\n  const [githubProjects, setGithubProjects] = useState([])\r\n  const [loadProjectsError, setLoadProjectsError] = useState(null)\r\n\r\n  const classes = useStyles()\r\n\r\n  useEffect(() => {\r\n    getProjects()\r\n  }, [])\r\n\r\n  const getProjects = async () => {\r\n    try {\r\n      const queryResult = await client.query({\r\n        query,\r\n      })\r\n      setGithubProjects(queryResult.data.user)\r\n      setLoadProjectsError(false)\r\n    } catch (error) {\r\n      console.log(error)\r\n      setLoadProjectsError(true)\r\n    }\r\n  }\r\n\r\n  if (loadProjectsError === false) {\r\n    return (\r\n      <Section title=\"Projects\">\r\n        <div className=\"projects-content\">\r\n          <ul className=\"projects-list\">\r\n            {featured_projects.map((featuredProject) => {\r\n              return (\r\n                <li key={`featured-project-${featuredProject.id}`}>\r\n                  <Fade bottom duration={1000} distance=\"20px\">\r\n                    <FeaturedProject\r\n                      name={featuredProject.name}\r\n                      link={featuredProject.link}\r\n                      description={featuredProject.description}\r\n                      colour={featuredProject.colour}\r\n                      languages={featuredProject.languages}\r\n                    />\r\n                  </Fade>\r\n                </li>\r\n              )\r\n            })}\r\n            {Object.keys(githubProjects).map((repo) => {\r\n              if (githubProjects[repo].name) {\r\n                return (\r\n                  <li key={githubProjects[repo].name}>\r\n                    <Fade bottom duration={1000} distance=\"20px\">\r\n                      <Project project={githubProjects[repo]} type={'github'} />\r\n                    </Fade>\r\n                  </li>\r\n                )\r\n              } else {\r\n                return null\r\n              }\r\n            })}\r\n          </ul>\r\n          <Fade bottom duration={1000} distance=\"20px\">\r\n            <div className=\"more-projects-wrapper\">\r\n              <a\r\n                className=\"project-link\"\r\n                href={'https://github.com/jigalin'}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                <Button\r\n                  className={classes.moreProjects}\r\n                  type=\"button\"\r\n                  variant=\"contained\"\r\n                >\r\n                  more projects\r\n                </Button>\r\n              </a>\r\n            </div>\r\n          </Fade>\r\n        </div>\r\n      </Section>\r\n    )\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default Projects\r\n"]},"metadata":{},"sourceType":"module"}